<!DOCTYPE html>
<html lang="en">
<head>
        <link rel="stylesheet" href="../../static/css/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=McLaren&display=swap" rel="stylesheet">
        <script src="../../static/js/script.js"></script>
    </head>
    <body>
        <!--<div id="webname">
            <h2>Pawfect Match</h2>
        </div>-->
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>
    
        <div>
            <nav>
                <ul class="sidebar">
                    <li onclick=hideSidebar()><a class="current-tab" href="#"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#b9a4db"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></a></li>
                    <li><a href="gallery.html">Look for Your Pet!</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="quiz-intro.html">Find Your Pawfect Match</a></li>
                </ul>
                <ul>
                    <li><a class="current-tab" href="home.html">Pawfect Match</a></li>
                    <li class="hideOnMobile"><a href="gallery.html">Look for Your Pet!</a></li>
                    <li class="hideOnMobile"><a href="about.html">About Us</a></li>
                    <li class="hideOnMobile"><a href="quiz-intro.html">Find Your Pawfect Match</a></li>
                    <li class="menu-button" onclick=showSidebar()><a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#b9a4db"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg></a></li>
                </ul>
            </nav>
            <script>
                function showSidebar(){
                    const sidebar = document.querySelector('.sidebar')
                    sidebar.style.display = 'flex'
                }
                function hideSidebar(){
                    const sidebar = document.querySelector('.sidebar')
                    sidebar.style.display = 'none'
                }
            </script>

    <div class="container results-container">
        <div class="logo"><img src="../../static/images/pawbloblink.gif" alt="PAWBLO"></div>
        
        <div class="results-content">
            <div class="result-header">
                <div class="result-cat">
                    <div class="cat-face large"></div>
                </div>
                <h1 class="result-title" id="result-type">Your Pawfect Match</h1>
                <p class="result-description" id="result-description">Description will appear here</p>
            </div>
            
            <div class="matches-section">
                <h2>Your Matches</h2>
                <div id="matches-container" class="matches-container">
                    <div class="loading">Loading pets near you...</div>
                </div>
            </div>
            
            <button class="retry-btn" onclick="location.href='quiz.html'">Take Quiz Again</button>
        </div>
    </div>
    
    <script src="script.js"></script>
      <script>
(function() {
  const pets = JSON.parse(localStorage.getItem('quizMatches') || '[]');
  const title = localStorage.getItem('resultTitle') || 'Your Pawfect Match';
  const desc  = localStorage.getItem('resultDescription') || '';

  const titleEl = document.getElementById('result-type') || document.getElementById('result-type'.replace('-','_')) || document.querySelector('.result-title');
  const descEl  = document.getElementById('result-description') || document.querySelector('.result-description');
  const container = document.getElementById('matches-container');

  if (titleEl) titleEl.textContent = title;
  if (descEl)  descEl.textContent  = desc;

  if (!container) return;

  if (!pets.length) {
    container.innerHTML = '<div class="loading">No matches found right nowâ€”try adjusting your preferences.</div>';
    return;
  }

  container.innerHTML = pets.map(p => `
    <div class="gallery-item">
      <h3 class="pet-name">${p.name ?? 'Unnamed'}</h3>
      <img class="pet-image" src="${p.image ?? ''}" alt="${p.name ?? 'Pet'}">
      <p class="pet-sum">${p.summary ?? ''}</p>
    </div>
  `).join('');
})();
</script>
</body>
</html>